{
    "openapi": "3.0.3",
    "info": {
        "title": "WaterBill API",
        "version": "1.0.0",
        "description": "API pour la gestion de facturation d'eau"
    },
    "paths": {
        "/ping/": {
            "get": {
                "operationId": "ping_retrieve",
                "description": "Endpoint de test pour vérifier que l'API fonctionne",
                "summary": "Health check",
                "tags": [
                    "Health"
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/register/": {
            "post": {
                "operationId": "auth_register_create",
                "description": "\n    Crée un nouveau compte utilisateur inactif avec authentification par numéro de téléphone.\n    Un code d'activation est envoyé par SMS pour activer le compte.\n\n    **Endpoint:** `POST /api/auth/register/`\n\n    **Champs obligatoires:**\n    - `phone`: Numéro de téléphone unique (ex: 670000000) - minimum 9 chiffres\n    - `first_name`: Prénom de l'utilisateur\n    - `last_name`: Nom de famille\n    - `password`: Mot de passe (minimum 8 caractères)\n    - `password_confirm`: Confirmation du mot de passe\n\n    **Champs optionnels:**\n    - `email`: Adresse email\n    - `address`: Adresse physique\n    - `apartment_name`: Nom de l'appartement (maximum 3 caractères)\n\n    **Retourne:**\n    - Message de confirmation\n    - Code d'activation envoyé par SMS (à vérifier via /api/auth/activate/)\n    ",
                "summary": "Inscription d'un nouvel utilisateur",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegisterRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RegisterResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/login/": {
            "post": {
                "operationId": "auth_login_create",
                "description": "\n    Authentifie un utilisateur existant avec son numéro de téléphone et mot de passe.\n    Refuse la connexion si le compte n'est pas activé.\n\n    **Endpoint:** `POST /api/auth/login/`\n\n    **Champs obligatoires:**\n    - `phone`: Numéro de téléphone de l'utilisateur (minimum 9 chiffres)\n    - `password`: Mot de passe\n\n    **Retourne:**\n    - Informations utilisateur\n    - Tokens JWT (access + refresh)\n\n    **Erreurs possibles:**\n    - Compte non activé (utilisez /api/auth/activate/ pour activer)\n    - Identifiants incorrects\n    ",
                "summary": "Connexion d'un utilisateur",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LoginResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/logout/": {
            "post": {
                "operationId": "auth_logout_create",
                "description": "\n    Déconnecte un utilisateur en ajoutant son refresh token à la blacklist.\n\n    **Endpoint:** `POST /api/auth/logout/`\n\n    **Champs obligatoires:**\n    - `refresh`: Refresh token JWT à blacklister\n\n    **Action:**\n    - Ajoute le refresh token dans la blacklist\n    - Empêche toute utilisation future de ce token\n\n    **Retourne:**\n    - Message de confirmation de déconnexion\n\n    **Erreurs possibles:**\n    - Refresh token invalide\n    - Refresh token déjà blacklisté\n    ",
                "summary": "Déconnexion utilisateur",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LogoutRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LogoutResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/token/refresh/": {
            "post": {
                "operationId": "auth_token_refresh_create",
                "description": "\n    Génère un nouveau access token à partir d'un refresh token valide.\n\n    **Endpoint:** `POST /api/auth/token/refresh/`\n\n    **Champs obligatoires:**\n    - `refresh`: Refresh token JWT valide\n\n    **Retourne:**\n    - Nouveau access token JWT (durée: 15 minutes)\n\n    **Erreurs possibles:**\n    - Refresh token invalide ou expiré\n    - Refresh token blacklisté\n    ",
                "summary": "Rafraîchissement du token JWT",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TokenRefreshRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TokenRefreshResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/activate/": {
            "post": {
                "operationId": "auth_activate_create",
                "description": "\n    Active un compte utilisateur avec le code d'activation reçu par SMS.\n\n    **Endpoint:** `POST /api/auth/activate/`\n\n    **Champs obligatoires:**\n    - `phone`: Numéro de téléphone de l'utilisateur (minimum 9 chiffres)\n    - `code`: Code d'activation à 6 chiffres reçu par SMS\n\n    **Retourne:**\n    - Utilisateur activé\n    - Message de confirmation\n\n    **Erreurs possibles:**\n    - Code incorrect ou expiré\n    - Trop de tentatives échouées (compte verrouillé)\n    - Utilisateur déjà activé\n    ",
                "summary": "Activation du compte utilisateur",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ActivateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ActivationResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/resend-code/": {
            "post": {
                "operationId": "auth_resend_code_create",
                "description": "\n    Renvoie un nouveau code d'activation par SMS pour un utilisateur.\n\n    **Endpoint:** `POST /api/auth/resend-code/`\n\n    **Champs obligatoires:**\n    - `phone`: Numéro de téléphone de l'utilisateur (minimum 9 chiffres)\n\n    **Limites:**\n    - 1 envoi par minute maximum\n    - 5 envois par jour maximum\n\n    **Retourne:**\n    - Message de confirmation\n\n    **Erreurs possibles:**\n    - Trop de demandes (respectez les limites)\n    - Utilisateur déjà activé\n    - Compte verrouillé\n    ",
                "summary": "Renvoi du code d'activation",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ResendCodeRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SimpleResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/profile/": {
            "get": {
                "operationId": "auth_profile_retrieve",
                "description": "\n    Récupère les informations du profil de l'utilisateur connecté.\n\n    **Endpoint:** `GET /api/auth/profile/`\n\n    **Authentification requise:**\n    - Token JWT dans l'en-tête Authorization: Bearer <token>\n\n    **Retourne:**\n    - Informations complètes du profil utilisateur\n    ",
                "summary": "Profil utilisateur connecté",
                "tags": [
                    "Profil"
                ],
                "security": [
                    {
                        "jwtAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProfileResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "401": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/password/forgot/": {
            "post": {
                "operationId": "auth_password_forgot_create",
                "description": "\n    Demande une réinitialisation de mot de passe via SMS.\n\n    **Endpoint:** `POST /api/auth/password/forgot/`\n\n    **Comportement de sécurité :**\n    - Retourne toujours un succès (même si l'utilisateur n'existe pas)\n    - Envoie un SMS uniquement si l'utilisateur existe\n    - Utilise un token UUID pour la sécurité\n\n    **Throttling :** `password_forgot` (5 req/min)\n    ",
                "summary": "Demande de réinitialisation de mot de passe",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordForgotRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PasswordForgotResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "429": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/password/reset/confirm/": {
            "post": {
                "operationId": "auth_password_reset_confirm_create",
                "description": "\n    Confirme la réinitialisation de mot de passe avec le code SMS.\n\n    **Endpoint:** `POST /api/auth/password/reset/confirm/`\n\n    **Processus :**\n    1. Vérification du token UUID\n    2. Validation du code SMS (6 chiffres)\n    3. Mise à jour du mot de passe\n    4. Invalidation du token (one-shot)\n\n    **Throttling :** `password_reset_confirm` (3 req/min)\n    ",
                "summary": "Confirmation de réinitialisation de mot de passe",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordResetConfirmRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PasswordResetConfirmResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "429": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/password/change/request/": {
            "post": {
                "operationId": "auth_password_change_request_create",
                "description": "\n    Demande un changement de mot de passe (utilisateur authentifié).\n\n    **Endpoint:** `POST /api/auth/password/change/request/`\n\n    **Prérequis :**\n    - Utilisateur authentifié (JWT)\n    - Mot de passe actuel correct\n\n    **Processus :**\n    1. Vérification du mot de passe actuel\n    2. Envoi d'un code SMS de vérification\n    3. Génération d'un token UUID\n\n    **Throttling :** `password_change_request` (3 req/min)\n    ",
                "summary": "Demande de changement de mot de passe",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordChangeRequestRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PasswordChangeRequestResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "401": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "429": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/password/change/confirm/": {
            "post": {
                "operationId": "auth_password_change_confirm_create",
                "description": "\n    Confirme le changement de mot de passe avec le code SMS.\n\n    **Endpoint:** `POST /api/auth/password/change/confirm/`\n\n    **Processus :**\n    1. Vérification du token UUID\n    2. Validation du code SMS (6 chiffres)\n    3. Mise à jour du mot de passe\n    4. Invalidation du token (one-shot)\n\n    **Throttling :** `password_change_confirm` (3 req/min)\n    ",
                "summary": "Confirmation de changement de mot de passe",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordChangeConfirmRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PasswordChangeConfirmResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "429": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/me/": {
            "put": {
                "operationId": "auth_me_update",
                "description": "\n    Met à jour les informations du profil utilisateur.\n\n    **Endpoint:** `PUT /api/auth/me/`\n\n    **Champs modifiables :**\n    - first_name (prénom)\n    - last_name (nom)\n    - email (adresse email)\n    - address (adresse physique)\n    - apartment_name (nom de l'appartement, max 3 caractères)\n\n    **Prérequis :**\n    - Utilisateur authentifié (JWT)\n\n    **Note :** Le numéro de téléphone ne peut pas être modifié via cet endpoint.\n    ",
                "summary": "Mise à jour du profil utilisateur",
                "tags": [
                    "Profil"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ProfileUpdateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProfileUpdateResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "401": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/phone/change/request/": {
            "post": {
                "operationId": "auth_phone_change_request_create",
                "description": "\n    Demande un changement de numéro de téléphone.\n\n    **Endpoint:** `POST /api/auth/phone/change/request/`\n\n    **Prérequis :**\n    - Utilisateur authentifié (JWT)\n    - Nouveau numéro non utilisé\n\n    **Processus :**\n    1. Vérification que le nouveau numéro n'est pas déjà utilisé\n    2. Envoi d'un code SMS sur le nouveau numéro\n    3. Génération d'un token UUID\n\n    **Throttling :** `phone_change_request` (3 req/min)\n    ",
                "summary": "Demande de changement de numéro de téléphone",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PhoneChangeRequestRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PhoneChangeRequestResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "401": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "429": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/auth/phone/change/confirm/": {
            "post": {
                "operationId": "auth_phone_change_confirm_create",
                "description": "\n    Confirme le changement de numéro de téléphone avec le code SMS.\n\n    **Endpoint:** `POST /api/auth/phone/change/confirm/`\n\n    **Processus :**\n    1. Vérification du token UUID\n    2. Validation du code SMS (6 chiffres)\n    3. Mise à jour du numéro de téléphone\n    4. Invalidation du token (one-shot)\n\n    **Throttling :** `phone_change_confirm` (3 req/min)\n    ",
                "summary": "Confirmation de changement de numéro de téléphone",
                "tags": [
                    "Authentification"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PhoneChangeConfirmRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PhoneChangeConfirmResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    },
                    "429": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ActivateRequest": {
                "type": "object",
                "description": "Serializer pour la vérification du code d'activation.\n\nValide le numéro de téléphone et le code d'activation.",
                "properties": {
                    "phone": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Numéro de téléphone (minimum 9 chiffres)"
                    },
                    "code": {
                        "type": "string",
                        "minLength": 6,
                        "description": "Code d'activation à 6 chiffres",
                        "maxLength": 6
                    }
                },
                "required": [
                    "code",
                    "phone"
                ]
            },
            "ActivationData": {
                "type": "object",
                "description": "Serializer pour les données d'activation.",
                "properties": {
                    "user": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/User"
                            }
                        ],
                        "description": "Informations de l'utilisateur activé"
                    }
                },
                "required": [
                    "user"
                ]
            },
            "ActivationResponse": {
                "type": "object",
                "description": "Serializer pour les réponses d'activation.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/ActivationData"
                            }
                        ],
                        "description": "Données utilisateur"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "AuthData": {
                "type": "object",
                "description": "Serializer pour les données d'authentification.",
                "properties": {
                    "user": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/User"
                            }
                        ],
                        "description": "Informations de l'utilisateur"
                    },
                    "tokens": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/Token"
                            }
                        ],
                        "description": "Tokens JWT (access et refresh)"
                    }
                },
                "required": [
                    "tokens",
                    "user"
                ]
            },
            "ErrorResponse": {
                "type": "object",
                "description": "Serializer pour les réponses d'erreur.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse (error)"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message d'erreur"
                    },
                    "data": {
                        "nullable": true,
                        "description": "Données d'erreur (peut être un objet vide ou des détails d'erreur)"
                    }
                },
                "required": [
                    "message",
                    "status"
                ]
            },
            "LoginRequest": {
                "type": "object",
                "description": "Serializer pour la connexion des utilisateurs.\n\nValide les données de connexion (téléphone + mot de passe).",
                "properties": {
                    "phone": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Numéro de téléphone (minimum 9 chiffres)"
                    },
                    "password": {
                        "type": "string",
                        "writeOnly": true,
                        "minLength": 1,
                        "description": "Mot de passe"
                    }
                },
                "required": [
                    "password",
                    "phone"
                ]
            },
            "LoginResponse": {
                "type": "object",
                "description": "Serializer pour les réponses de connexion.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/AuthData"
                            }
                        ],
                        "description": "Données utilisateur et tokens"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "LogoutRequest": {
                "type": "object",
                "description": "Serializer pour la déconnexion avec blacklist du refresh token.",
                "properties": {
                    "refresh": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Refresh token JWT à ajouter à la blacklist"
                    }
                },
                "required": [
                    "refresh"
                ]
            },
            "LogoutResponse": {
                "type": "object",
                "description": "Serializer pour la réponse de déconnexion.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    }
                },
                "required": [
                    "message",
                    "status"
                ]
            },
            "PasswordChangeConfirmRequest": {
                "type": "object",
                "description": "Serializer pour la confirmation de changement de mot de passe.",
                "properties": {
                    "token": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Token UUID de changement de mot de passe"
                    },
                    "code": {
                        "type": "string",
                        "minLength": 6,
                        "description": "Code SMS de 6 chiffres",
                        "maxLength": 6
                    },
                    "new_password": {
                        "type": "string",
                        "minLength": 8,
                        "description": "Nouveau mot de passe (minimum 8 caractères)"
                    },
                    "new_password_confirm": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Confirmation du nouveau mot de passe"
                    }
                },
                "required": [
                    "code",
                    "new_password",
                    "new_password_confirm",
                    "token"
                ]
            },
            "PasswordChangeConfirmResponse": {
                "type": "object",
                "description": "Serializer pour la réponse de confirmation de changement de mot de passe.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "description": "Données additionnelles"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "PasswordChangeRequestRequest": {
                "type": "object",
                "description": "Serializer pour la demande de changement de mot de passe (utilisateur authentifié).",
                "properties": {
                    "current_password": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Mot de passe actuel de l'utilisateur"
                    }
                },
                "required": [
                    "current_password"
                ]
            },
            "PasswordChangeRequestResponse": {
                "type": "object",
                "description": "Serializer pour la réponse de demande de changement de mot de passe.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "description": "Données additionnelles (toujours vides pour la sécurité)"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "PasswordForgotRequest": {
                "type": "object",
                "description": "Serializer pour la demande de réinitialisation de mot de passe.",
                "properties": {
                    "phone": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Numéro de téléphone de l'utilisateur",
                        "maxLength": 15
                    }
                },
                "required": [
                    "phone"
                ]
            },
            "PasswordForgotResponse": {
                "type": "object",
                "description": "Serializer pour la réponse de demande de réinitialisation de mot de passe.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "description": "Données additionnelles (toujours vides pour la sécurité)"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "PasswordResetConfirmRequest": {
                "type": "object",
                "description": "Serializer pour la confirmation de réinitialisation de mot de passe.",
                "properties": {
                    "token": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Token UUID de réinitialisation"
                    },
                    "code": {
                        "type": "string",
                        "minLength": 6,
                        "description": "Code SMS de 6 chiffres",
                        "maxLength": 6
                    },
                    "new_password": {
                        "type": "string",
                        "minLength": 8,
                        "description": "Nouveau mot de passe (minimum 8 caractères)"
                    },
                    "new_password_confirm": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Confirmation du nouveau mot de passe"
                    }
                },
                "required": [
                    "code",
                    "new_password",
                    "new_password_confirm",
                    "token"
                ]
            },
            "PasswordResetConfirmResponse": {
                "type": "object",
                "description": "Serializer pour la réponse de confirmation de réinitialisation de mot de passe.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "description": "Données additionnelles"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "PhoneChangeConfirmRequest": {
                "type": "object",
                "description": "Serializer pour la confirmation de changement de numéro de téléphone.",
                "properties": {
                    "token": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Token UUID de changement de numéro"
                    },
                    "code": {
                        "type": "string",
                        "minLength": 6,
                        "description": "Code SMS de 6 chiffres",
                        "maxLength": 6
                    }
                },
                "required": [
                    "code",
                    "token"
                ]
            },
            "PhoneChangeConfirmResponse": {
                "type": "object",
                "description": "Serializer pour la réponse de confirmation de changement de numéro.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "description": "Données additionnelles"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "PhoneChangeRequestRequest": {
                "type": "object",
                "description": "Serializer pour la demande de changement de numéro de téléphone.",
                "properties": {
                    "new_phone": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Nouveau numéro de téléphone",
                        "maxLength": 15
                    }
                },
                "required": [
                    "new_phone"
                ]
            },
            "PhoneChangeRequestResponse": {
                "type": "object",
                "description": "Serializer pour la réponse de demande de changement de numéro.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "description": "Données additionnelles (toujours vides pour la sécurité)"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "ProfileData": {
                "type": "object",
                "description": "Serializer pour les données de profil.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "ID unique de l'utilisateur"
                    },
                    "phone": {
                        "type": "string",
                        "description": "Numéro de téléphone"
                    },
                    "first_name": {
                        "type": "string",
                        "description": "Prénom"
                    },
                    "last_name": {
                        "type": "string",
                        "description": "Nom de famille"
                    },
                    "full_name": {
                        "type": "string",
                        "description": "Nom complet"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "nullable": true,
                        "description": "Adresse email"
                    },
                    "address": {
                        "type": "string",
                        "nullable": true,
                        "description": "Adresse"
                    },
                    "apartment_name": {
                        "type": "string",
                        "nullable": true,
                        "description": "Nom de l'appartement"
                    },
                    "date_joined": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Date d'inscription"
                    },
                    "is_active": {
                        "type": "boolean",
                        "description": "Compte actif"
                    }
                },
                "required": [
                    "address",
                    "apartment_name",
                    "date_joined",
                    "email",
                    "first_name",
                    "full_name",
                    "id",
                    "is_active",
                    "last_name",
                    "phone"
                ]
            },
            "ProfileResponse": {
                "type": "object",
                "description": "Serializer pour les réponses de profil.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/ProfileData"
                            }
                        ],
                        "description": "Données du profil utilisateur"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "ProfileUpdateRequest": {
                "type": "object",
                "description": "Serializer pour la mise à jour du profil utilisateur.",
                "properties": {
                    "first_name": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Prénom de l'utilisateur",
                        "maxLength": 150
                    },
                    "last_name": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Nom de famille de l'utilisateur",
                        "maxLength": 150
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "nullable": true,
                        "description": "Adresse email optionnelle",
                        "maxLength": 254
                    },
                    "address": {
                        "type": "string",
                        "nullable": true,
                        "description": "Adresse physique optionnelle"
                    },
                    "apartment_name": {
                        "type": "string",
                        "nullable": true,
                        "description": "Nom de l'appartement (maximum 3 caractères)",
                        "maxLength": 3
                    }
                },
                "required": [
                    "first_name",
                    "last_name"
                ]
            },
            "ProfileUpdateResponse": {
                "type": "object",
                "description": "Serializer pour la réponse de mise à jour du profil.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "description": "Données du profil mis à jour"
                    }
                },
                "required": [
                    "data",
                    "message",
                    "status"
                ]
            },
            "RegisterRequest": {
                "type": "object",
                "description": "Serializer pour l'inscription des utilisateurs.\n\nValide les données d'inscription et crée un nouvel utilisateur.",
                "properties": {
                    "phone": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Numéro de téléphone unique (ex: 670000000) - minimum 9 chiffres",
                        "maxLength": 15
                    },
                    "first_name": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Prénom de l'utilisateur",
                        "maxLength": 150
                    },
                    "last_name": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Nom de famille",
                        "maxLength": 150
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "nullable": true,
                        "description": "Adresse email (optionnelle)",
                        "maxLength": 254
                    },
                    "address": {
                        "type": "string",
                        "nullable": true,
                        "description": "Adresse physique (optionnelle)"
                    },
                    "apartment_name": {
                        "type": "string",
                        "nullable": true,
                        "description": "Nom de l'appartement (maximum 3 caractères)",
                        "maxLength": 3
                    },
                    "password": {
                        "type": "string",
                        "writeOnly": true,
                        "minLength": 8,
                        "description": "Mot de passe (minimum 8 caractères)"
                    },
                    "password_confirm": {
                        "type": "string",
                        "writeOnly": true,
                        "minLength": 1,
                        "description": "Confirmation du mot de passe"
                    }
                },
                "required": [
                    "first_name",
                    "last_name",
                    "password",
                    "password_confirm",
                    "phone"
                ]
            },
            "RegisterResponse": {
                "type": "object",
                "description": "Serializer pour les réponses d'inscription.",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "nullable": true,
                        "description": "Données de la réponse (message simple)"
                    }
                },
                "required": [
                    "message",
                    "status"
                ]
            },
            "ResendCodeRequest": {
                "type": "object",
                "description": "Serializer pour la demande de renvoi de code d'activation.\n\nValide le numéro de téléphone pour le renvoi.",
                "properties": {
                    "phone": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Numéro de téléphone (minimum 9 chiffres)"
                    }
                },
                "required": [
                    "phone"
                ]
            },
            "SimpleResponse": {
                "type": "object",
                "description": "Serializer pour les réponses simples (sans données complexes).",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "Statut de la réponse"
                    },
                    "message": {
                        "type": "string",
                        "description": "Message de confirmation"
                    },
                    "data": {
                        "nullable": true,
                        "description": "Données de la réponse (peut être un objet vide)"
                    }
                },
                "required": [
                    "message",
                    "status"
                ]
            },
            "Token": {
                "type": "object",
                "description": "Serializer pour les tokens JWT dans les réponses.",
                "properties": {
                    "access": {
                        "type": "string",
                        "description": "Token d'accès JWT"
                    },
                    "refresh": {
                        "type": "string",
                        "description": "Token de rafraîchissement JWT"
                    }
                },
                "required": [
                    "access",
                    "refresh"
                ]
            },
            "TokenRefreshRequest": {
                "type": "object",
                "description": "Serializer pour le rafraîchissement de token JWT.",
                "properties": {
                    "refresh": {
                        "type": "string",
                        "minLength": 1,
                        "description": "Refresh token JWT à utiliser pour obtenir un nouveau access token"
                    }
                },
                "required": [
                    "refresh"
                ]
            },
            "TokenRefreshResponse": {
                "type": "object",
                "description": "Serializer pour la réponse de rafraîchissement de token.",
                "properties": {
                    "access": {
                        "type": "string",
                        "description": "Nouveau access token JWT"
                    }
                },
                "required": [
                    "access"
                ]
            },
            "User": {
                "type": "object",
                "description": "Serializer pour la représentation des utilisateurs.\n\nUtilisé pour retourner les informations utilisateur\naprès inscription ou connexion.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "readOnly": true
                    },
                    "phone": {
                        "type": "string",
                        "description": "Numéro de téléphone unique (ex: +237670000000)",
                        "maxLength": 15
                    },
                    "first_name": {
                        "type": "string",
                        "description": "Prénom de l'utilisateur",
                        "maxLength": 150
                    },
                    "last_name": {
                        "type": "string",
                        "description": "Nom de famille de l'utilisateur",
                        "maxLength": 150
                    },
                    "full_name": {
                        "type": "string",
                        "readOnly": true
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "nullable": true,
                        "description": "Adresse email optionnelle",
                        "maxLength": 254
                    },
                    "address": {
                        "type": "string",
                        "nullable": true,
                        "description": "Adresse physique optionnelle"
                    },
                    "apartment_name": {
                        "type": "string",
                        "nullable": true,
                        "description": "Nom de l'appartement (maximum 3 caractères)",
                        "maxLength": 3
                    },
                    "date_joined": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "description": "Date de création du compte"
                    },
                    "is_active": {
                        "type": "boolean",
                        "readOnly": true,
                        "description": "Indique si l'utilisateur peut se connecter"
                    }
                },
                "required": [
                    "date_joined",
                    "first_name",
                    "full_name",
                    "id",
                    "is_active",
                    "last_name",
                    "phone"
                ]
            }
        },
        "securitySchemes": {
            "jwtAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        }
    }
}